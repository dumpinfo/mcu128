A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     1


MACRO ASSEMBLER A51 V7.10
OBJECT MODULE PLACED IN ∫ÏÕ‚ Ωº∆À„∆˜£≠LCD1602-2BIT-NEW.OBJ
ASSEMBLER INVOKED BY: D:\Program Files\Keil\C51\BIN\A51.EXE ∫ÏÕ‚ Ωº∆À„∆˜£≠LCD1602-2BIT-NEW.asm SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     
                       2     ;*******************************************************************
                       3     ;*               ME300Bµ•∆¨ª˙ø™∑¢œµÕ≥—› æ≥Ã–Ú                      *
                       4     ;*                                                                 *
                       5     ;* ∫ÏÕ‚“£øÿ ΩºÚµ•º∆À„∆˜—› æ≥Ã–Ú                                    *
                       6     ;* ”√∫ÏÕ‚“£øÿ∆˜◊ˆ ‰»Î£®  ”√–¬ Ω“£øÿ∆˜£©                            *
                       7     ;*                                                                 *
                       8     ;* LCD1602œ‘ æ∑Ω Ω£∫                                               *
                       9     ;* LCDµ⁄“ª––œ‘ æ£∫CALCULATOR                                       *
                      10     ;* LCDµ⁄∂˛––œ‘ æ£∫‘ÀÀ„π≥Ã                                         *
                      11     ;*                                                                 *
                      12     ;* ÷˜“™π¶ƒ‹£∫                                                      *
                      13     ;* 0£≠99¡ΩŒª ÷Æº‰µƒº”°¢ºı°¢≥À°¢≥’˚ ‘ÀÀ„                         *
                      14     ;*                                                                 *
                      15     ;* ” œ‰£∫gguoqing@willar.com                                       *
                      16     ;* Õ¯’æ£∫http://www.willar.com                                     *
                      17     ;* ◊˜’ﬂ£∫gguoqing                                                  *
                      18     ;*                                                                 *
                      19     ;* ¥¥◊˜ ±º‰£∫ 2005/07/10                                           *
                      20     ;* –ﬁ∏ƒ ±º‰£∫ 2006/02/03                                           *
                      21     ;*                                                                 *
                      22     ;*°æ∞Ê»®°øCOPYRIGHT(C)Œ∞ƒ…µÁ◊” www.willar.com ALL RIGHTS RESERVED  *
                      23     ;*°æ…˘√˜°ø¥À≥Ã–ÚΩˆ”√”⁄—ßœ∞”Î≤Œøº£¨“”√«Î◊¢√˜∞Ê»®∫Õ◊˜’ﬂ–≈œ¢£°       *
                      24     ;*                                                                 *
                      25     ;*******************************************************************
                      26     
                      27     ;K1Œ™«Â¡„º¸
                      28     ; ◊÷º¸:0,1,2,3,4,5,6,7,8,9
                      29     ;π¶ƒ‹º¸:+,-,*,/,=
                      30     
                      31     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
  0093                32                RELAY   EQU  P1.3
  00B7                33                BEEP    EQU  P3.7
  00B2                34                IRIN    EQU  P3.2
                      35     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
  00A0                36                LCD_RS  EQU  P2.0
  00A1                37                LCD_RW  EQU  P2.1
  00A2                38                LCD_EN  EQU  P2.2
  003F                39                LCD_X   EQU  3FH       ;LCD µÿ÷∑±‰¡ø
                      40     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
  0030                41                TEMP1   EQU  30H       ;¡Ÿ ±‘›¥Ê∆˜
  0031                42                TEMP2   EQU  31H
  0032                43                TEMP3   EQU  32H
  0033                44                TEMP4   EQU  33H
                      45     
  0027                46                RES_H   EQU  27H       ; ‰»Î±ªº”£®ºı°¢≥À°¢≥£© 
  0028                47                RES_L   EQU  28H       ; ‰»Îº”£®ºı°¢≥À°¢≥£© 
                      48     
  0029                49                OUT_H   EQU  29H       ;‘ÀÀ„Ω·π˚∏ﬂŒª
  002A                50                OUT_L   EQU  2AH       ;‘ÀÀ„Ω·π˚µÕŒª
                      51     
  0022                52                IRCOM   EQU  22H       ;22H-25H IR π”√
                      53     
                      54     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
0000                  55                ORG  0000H
0000 802E             56                JMP  MAIN
0030                  57                ORG  0030H
                      58     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     2

0030 758160           59     MAIN:      MOV  SP,#60H
0033 7900             60                MOV  R1,#00H
0035 753000           61                MOV  TEMP1,#00H
0038 753100           62                MOV  TEMP2,#00H
003B 753200           63                MOV  TEMP3,#00H
003E 752800           64                MOV  RES_L,#00H
0041 752700           65                MOV  RES_H,#00H
0044 752900           66                MOV  OUT_H,#00H
0047 752A00           67                MOV  OUT_L,#00H
004A 752000           68                MOV  20H,#00H
004D 515F             69                CALL  SET_LCD
                      70     
004F 3135             71     MAIN1:     CALL  IR_IN             ;¥Û”⁄9µƒ Œﬁ–ß
0051 3000FB           72                JNB  20H.0,MAIN1
0054 940A             73                SUBB  A,#0AH
0056 50F7             74                JNC  MAIN1              ;C=0£¨ŒﬁΩËŒª
0058 EB               75                MOV  A,R3               ;÷ÿ◊∞º¸÷µ
0059 8005             76                JMP  LOOP_0
005B                  77     LOOP:
005B 3135             78                CALL  IR_IN              ;ÀÕ±ª£®º”°¢ºı°¢≥À°¢≥£© 
005D 3000FB           79                JNB  20H.0,LOOP          ;º¸±Íº«
0060                  80     LOOP_0:
0060 09               81                INC  R1
0061 B90107           82                CJNE  R1,#01H,LOOP_1
0064 F531             83                MOV  TEMP2,A             ;∏ﬂŒª
0066 753F02           84                MOV  LCD_X,#2
0069 710F             85                CALL  CONV0
                      86     
006B B902ED           87     LOOP_1:    CJNE  R1,#02H,LOOP
006E 940A             88                SUBB  A,#0AH             ;≈– «∑Ò «π¶ƒ‹º¸£ø
0070 501D             89                JNC  LOOP_2              ; «£¨◊™LOOP_2
0072 853130           90                MOV  TEMP1,TEMP2
0075 E530             91                MOV  A,TEMP1
0077 753F01           92                MOV  LCD_X,#1
007A 710F             93                CALL  CONV0
007C EB               94                MOV  A,R3                ;ª÷∏¥”––ßº¸÷µ
007D F531             95                MOV  TEMP2,A             ;µÕŒª
007F 753F02           96                MOV  LCD_X,#2
0082 710F             97                CALL  CONV0
0084 E530             98                MOV  A,TEMP1
0086 540F             99                ANL  A,#0FH
0088 C4              100                SWAP  A
0089 4531            101                ORL  A,TEMP2
008B F527            102                MOV  RES_H,A
008D 8005            103                JMP  LOOP0
008F                 104     LOOP_2:
008F 853127          105                MOV  RES_H,TEMP2
0092 0199            106                AJMP  LOOP0A
                     107     
0094 3135            108     LOOP0:     CALL  IR_IN
0096 3000FB          109                JNB  20H.0,LOOP0
                     110     
0099 EB              111     LOOP0A:    MOV  A,R3                 ;÷ÿ◊∞º¸÷µ
009A B40A06          112                CJNE  A,#0AH,LOOP1        ;º”‘ÀÀ„
009D 7117            113                CALL  CONV1
009F D201            114                SETB  20H.1               ;º”‘ÀÀ„±Íº«
00A1 01C5            115                AJMP  LOOP5
00A3 B40B06          116     LOOP1:     CJNE  A,#0BH,LOOP2        ;ºı‘ÀÀ„
00A6 7122            117                CALL  CONV2
00A8 D202            118                SETB  20H.2               ;ºı‘ÀÀ„±Íº«
00AA 01C5            119                AJMP  LOOP5
00AC B40C06          120     LOOP2:     CJNE  A,#0CH,LOOP3        ;≥À‘ÀÀ„
00AF 712D            121                CALL  CONV3
00B1 D203            122                SETB  20H.3               ;≥À‘ÀÀ„±Íº«
00B3 01C5            123                AJMP  LOOP5
00B5 B40D06          124     LOOP3:     CJNE  A,#0DH,LOOP4        ;≥‘ÀÀ„
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     3

00B8 7138            125                CALL  CONV4
00BA D204            126                SETB  20H.4               ;≥‘ÀÀ„±Íº«
00BC 01C5            127                AJMP  LOOP5
00BE B40F02          128     LOOP4:     CJNE  A,#0FH,LOOP4A
00C1 0130            129                AJMP  MAIN
                     130     
00C3 0194            131     LOOP4A:    AJMP  LOOP0
                     132     
00C5 7900            133     LOOP5:     MOV  R1,#00H
00C7 753000          134                MOV  TEMP1,#00H
00CA 753100          135                MOV  TEMP2,#00H
00CD C200            136                CLR  20H.0                ;ÀÕ£®º”°¢ºı°¢≥À°¢≥£© 
                     137     
00CF 3135            138     LOOP5A:    CALL  IR_IN
00D1 3000FB          139                JNB  20H.0,LOOP5A
                     140                ;CALL  BEEP_BL
                     141     
00D4 B40F02          142                CJNE  A,#0FH,LOOP5B
00D7 0130            143                AJMP  MAIN
                     144     
00D9 09              145     LOOP5B:    INC  R1
00DA B90107          146                CJNE  R1,#01H,LOOP5C
00DD F531            147                MOV  TEMP2,A
00DF 753F06          148                MOV  LCD_X,#6
00E2 710F            149                CALL  CONV0
                     150     
00E4 B902E8          151     LOOP5C:    CJNE  R1,#02H,LOOP5A
00E7 940A            152                SUBB  A,#0AH             ;≈– «∑Ò «π¶ƒ‹º¸£ø
00E9 501D            153                JNC  LOOP5D              ; «£¨◊™LOOP5C
00EB 853130          154                MOV  TEMP1,TEMP2
00EE E530            155                MOV  A,TEMP1
00F0 753F06          156                MOV  LCD_X,#6
00F3 710F            157                CALL  CONV0
00F5 EB              158                MOV  A,R3
00F6 F531            159                MOV  TEMP2,A
00F8 753F07          160                MOV  LCD_X,#7
00FB 710F            161                CALL  CONV0
00FD E530            162                MOV  A,TEMP1
00FF 540F            163                ANL  A,#0FH
0101 C4              164                SWAP  A
0102 4531            165                ORL  A,TEMP2
0104 F528            166                MOV  RES_L,A
0106 8005            167                JMP  LOOP6
                     168     
0108 853128          169     LOOP5D:    MOV  RES_L,TEMP2
010B 8002            170                JMP  LOOP6A
                     171     
010D 3135            172     LOOP6:     CALL  IR_IN
010F EB              173     LOOP6A:    MOV  A,R3                ;÷ÿ◊∞º¸÷µ
0110 B40F02          174                CJNE  A,#0FH,LOOP6B
0113 0130            175                AJMP  MAIN
0115 B40EF5          176     LOOP6B:    CJNE  A,#0EH,LOOP6       ;œ‘ æ£®=£©
0118 7143            177                CALL  CONV5              ;œ‘ æ‘ÀÀ„Ω·π˚
                     178                ;CALL  BEEP_BL            
011A 300102          179                JNB  20H.1,LOOP6C
011D 31B8            180                CALL  SUADD
011F 300202          181     LOOP6C:    JNB  20H.2,LOOP6D
0122 31CB            182                CALL  SUSUB
0124 300302          183     LOOP6D:    JNB  20H.3,LOOP6E
0127 31E6            184                CALL  SUMUL
0129 300402          185     LOOP6E:    JNB  20H.4,LOOP7
012C 5120            186                CALL  SUDIV
                     187     
012E 3135            188     LOOP7:     CALL  IR_IN
0130 B40FFB          189                CJNE  A,#0FH,LOOP7        ;∏¥Œª£®«Â¡„£©
0133 0130            190                AJMP  MAIN
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     4

                     191     ;---------------------------------------------------
                     192     ; IR “Î¬Î◊”≥Ã–Ú
                     193     ;≥ˆø⁄£∫A°¢R3¥Êº¸÷µ
                     194     ;---------------------------------------------------
0135                 195     IR_IN:
0135 7822            196               MOV   R0,#IRCOM
0137 30B202          197      I1:      JNB  IRIN,I2       ;µ»¥ IR –≈∫≈≥ˆœ÷
013A 80FB            198               JMP  I1
013C 7C14            199      I2:      MOV  R4,#20
013E 31AB            200      I20:     CALL  DEL
0140 DCFC            201               DJNZ  R4,I20
0142 20B2F2          202               JB  IRIN,I1        ;»∑»œIR–≈∫≈≥ˆœ÷
                     203     
0145 20B204          204      I21:     JB  IRIN,I3        ;µ» IR ±‰Œ™∏ﬂµÁ∆Ω
0148 31AB            205               CALL  DEL
014A 80F9            206               JMP  I21
014C 7B00            207      I3:      MOV  R3,#0         ;8Œª «ÂŒ™0
014E 30B204          208      LL:      JNB  IRIN,I4       ;µ» IR ±‰Œ™µÕµÁ∆Ω
0151 31AB            209               CALL  DEL
0153 80F9            210               JMP  LL
0155 20B204          211      I4:      JB  IRIN,I5        ;µ» IR ±‰Œ™∏ﬂµÁ∆Ω
0158 31AB            212               CALL  DEL
015A 80F9            213               JMP  I4
015C 7A00            214      I5:      MOV  R2,#0         ;0.14MS º∆ 
015E 31AB            215      L1:      CALL  DEL
0160 20B213          216               JB  IRIN, N1       ;µ» IR ±‰Œ™∏ﬂµÁ∆Ω
                     217                                  ;IR=0£¨ºÏ≤ÈR2÷–µƒº∆ ÷µ
0163 7408            218               MOV  A,#8
0165 C3              219               CLR  C
0166 9A              220               SUBB  A,R2         ;≈–∂œ∏ﬂµÕŒª
                     221                                  ;IF C=0  BIT=0
0167 E6              222               MOV  A,@R0
0168 13              223               RRC  A
0169 F6              224               MOV  @R0,A         ;¥¶¿ÌÕÍ“ªŒª
016A 0B              225               INC  R3
016B BB08E0          226               CJNE  R3,#8,LL     ;–Ë¥¶¿ÌÕÍ8Œª
016E 7B00            227               MOV  R3,#0
0170 08              228               INC  R0
0171 B826DA          229               CJNE  R0,#IRCOM+4,LL   ; ’ºØµΩ4◊÷Ω⁄¡À
                     230               ;JMP  OK
0174 8005            231               JMP   IR_SHOW
0176 0A              232      N1:      INC  R2
0177 BA1EE4          233               CJNE  R2,#30,L1    ;0.14MS º∆ π≥§‘Ú ±º‰µΩ◊‘∂Ø¿Îø™
017A 22              234      OK:      RET
                     235     ;--------------------------------------------------------------------
017B                 236     IR_SHOW:
017B E525            237                MOV A,IRCOM+3
017D F4              238                CPL A                    ;Ω´25H»°∑¥∫Û∫Õ24H±»Ωœ
017E B52418          239                CJNE A,IRCOM+2,IR_SHOW1  ;»Áπ˚≤ªµ»±Ì æΩ” ’ æ›∑¢…˙¥ÌŒÛ,∑≈∆˙°£
0181 D200            240                SETB  20H.0              ;Ω‚¬Î≥…π¶20H.0÷√1°£
0183 E524            241                MOV  A,IRCOM+2
0185 F5F0            242                MOV  B,A
0187 90019A          243                MOV  DPTR,#IR_TABLE_NEW
018A 7BFF            244                MOV  R3,#0FFH
018C 0B              245     IR_IN1:    INC  R3
018D EB              246                MOV  A,R3
018E 93              247                MOVC  A,@A+DPTR
018F B5F004          248                CJNE  A,B,IR_IN2
0192 EB              249                MOV  A,R3                ;’“µΩ£¨»°À≥–Ú¬Î
0193 71CD            250                CALL  BEEP_BL            ;∑‰√˘∆˜√˘œÏ±Ì æΩ‚¬Î≥…π¶
0195 22              251                RET
0196 B4FFF3          252     IR_IN2:    CJNE  A,#0FFH,IR_IN1  ;ƒ©ÕÍ£¨ºÃ–¯≤È
0199 22              253     IR_SHOW1:  RET
                     254     ;---------------------------------------------------------
                     255     ;∫ÏÕ‚“£øÿ∆˜º¸÷µ¬Î
                     256     ;---------------------------------------------------------
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     5

019A                 257     IR_TABLE_NEW:
019A 40480400        258          DB   40H,48H,04H,00H,02H,05H,54H,4DH,0AH,1EH
019E 0205544D                
01A2 0A1E                    
01A4 091F1716        259          DB   09H,1FH,17H,16H,4CH,10H,0FFH
01A8 4C10FF                  
                     260     ;IR_TABLE:
                     261     ;    DB   1BH,10H,03H,01H,06H,09H,1DH,1FH,0DH,19H
                     262     ;    DB   1CH,14H,0FH,0CH,40H,04H,0FFH
                     263     ;---------------------------------------------------------
                     264     ; DELAY  R5*0.14MS
01AB                 265     DEL:
01AB 7D01            266               MOV  R5,#1       ;IRΩ‚¬Î π”√
01AD 7E02            267     DEL0:     MOV  R6,#2
01AF 7F20            268     DEL1:     MOV  R7,#32
01B1 DFFE            269     DEL2:     DJNZ  R7,DEL2
01B3 DEFA            270               DJNZ  R6,DEL1
01B5 DDF6            271               DJNZ  R5,DEL0
01B7 22              272               RET
                     273     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
                     274     ;º”∑®‘ÀÀ„◊”≥Ã–Ú
                     275     ;»Îø⁄£∫R0-±ªº” ,R1-º” 
                     276     ;≥ˆø⁄£∫R4(∏ﬂ)°¢R2(µÕ)Œ™∫Õ÷µ
                     277     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
01B8                 278     SUADD:     
01B8 A928            279                MOV  R1,RES_L
01BA A827            280                MOV  R0,RES_H
                     281     
01BC E8              282                MOV  A,R0
01BD 29              283                ADD  A,R1
01BE D4              284                DA  A
01BF FA              285                MOV  R2,A
01C0 E4              286                CLR  A
01C1 3400            287                ADDC  A,#00H
01C3 FC              288                MOV  R4,A
01C4 8C29            289                MOV  OUT_H,R4
01C6 8A2A            290                MOV  OUT_L,R2
01C8 7167            291                CALL T_CONV
01CA 22              292                RET
                     293     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
                     294     ;ºı∑®‘ÀÀ„◊”≥Ã–Ú
                     295     ;»Îø⁄£∫R0-±ªºı ,R1-ºı 
                     296     ;≥ˆø⁄£∫R2£≠≤Ó÷µ
                     297     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
01CB                 298     SUSUB:
01CB A928            299               MOV  R1,RES_L
01CD A827            300               MOV  R0,RES_H
01CF C3              301               CLR  C
01D0 749A            302               MOV  A,#9AH
01D2 99              303               SUBB  A,R1       ;ºı  ÆΩ¯÷∆«Û≤π
01D3 28              304               ADD  A,R0
01D4 D4              305               DA  A
01D5 FA              306               MOV  R2,A        ;≤Ó÷µÀÕR2
01D6 4006            307               JC  POSI         ;C=1£¨±Ì æ≤Ó÷µŒ™’
01D8 749A            308      NEGA:    MOV  A,#9AH      ;≤Ó÷µŒ™∏∫£¨«Û≤π∫Ûµ√≤Ó÷µµƒæ¯∂‘÷µ
01DA 9A              309               SUBB  A,R2
01DB FA              310               MOV  R2,A
01DC D205            311               SETB  20H.5      ;œ‘ æ∏∫∫≈±Íº«
01DE 752900          312      POSI:    MOV  OUT_H,#00H
01E1 8A2A            313               MOV  OUT_L,R2
01E3 7167            314               CALL  T_CONV
01E5 22              315               RET
                     316     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
                     317     ;≥À∑®‘ÀÀ„◊”≥Ã–Ú
                     318     ;µ•◊÷Ω⁄BCD¬Î≥À∑®◊”≥Ã–Ú
                     319     ;»Îø⁄: R0(±ª≥À )°¢R1(≥À £©
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     6

                     320     ;≥ˆø⁄: R3(∏ﬂ)°¢R2(µÕ)£¨ªŒ™À´◊÷Ω⁄£¨BCD¬Î–Œ Ωµƒª
                     321     ;¥”≥À ∏ﬂŒªø™ ºΩ¯––BCD¬Î“∆Œª≥À∑®
                     322     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
01E6                 323     SUMUL:
01E6 A928            324                 MOV  R1,RES_L
01E8 A827            325                 MOV  R0,RES_H
01EA                 326     BCDMUL:
01EA E4              327                 CLR  A             ;ªµ•‘™«Â¡„
01EB FA              328                 MOV  R2,A
01EC FB              329                 MOV  R3,A
01ED E9              330                 MOV  A,R1
01EE 601D            331                 JZ  RETURN
01F0 54F0            332                 ANL  A,#0F0H        ;»°≥À ∏ﬂŒª
01F2 6011            333                 JZ  LBCD            ;≥À ∏ﬂŒª «∑ÒŒ™0£ø
01F4 C4              334                 SWAP  A
01F5 FC              335                 MOV  R4,A
01F6 5114            336                 ACALL  DDBCDM
01F8 C4              337                 SWAP  A             ;BCD¬Î◊Û“∆“ªŒª
01F9 FB              338                 MOV  R3,A
01FA EA              339                 MOV  A,R2
01FB C4              340                 SWAP  A
01FC FA              341                 MOV  R2,A
01FD 540F            342                 ANL  A,#0FH
01FF 4B              343                 ORL  A,R3
0200 FB              344                 MOV  R3,A
0201 EA              345                 MOV  A,R2
0202 54F0            346                 ANL  A,#0F0H
0204 FA              347                 MOV  R2,A
0205 E9              348      LBCD:      MOV  A,R1            ;»°≥À µÕŒª
0206 540F            349                 ANL  A,#0FH
0208 6003            350                 JZ  RETURN           ;≥À µÕŒª «∑ÒŒ™0£ø
020A FC              351                 MOV  R4,A
020B 5114            352                 ACALL  DDBCDM
020D 8B29            353     RETURN:     MOV  OUT_H,R3
020F 8A2A            354                 MOV  OUT_L,R2
0211 7167            355                 CALL T_CONV
0213 22              356                 RET
                     357     
0214                 358     DDBCDM:                          ;“ªŒªBCD¬Î≥À∑®
0214 EA              359                 MOV  A,R2
0215 28              360                 ADD  A,R0
0216 D4              361                 DA  A
0217 FA              362                 MOV  R2,A
0218 EB              363                 MOV  A,R3
0219 3400            364                 ADDC  A,#00H
021B D4              365                 DA  A
021C FB              366                 MOV  R3,A
021D DCF5            367                 DJNZ  R4,DDBCDM
021F 22              368                 RET
                     369     ;------------------------------------------------
                     370     ;≥∑®‘ÀÀ„◊”≥Ã–Ú
                     371     
                     372     ;µ•◊÷Ω⁄BCD¬Î≥∑®
                     373     ;»Îø⁄£∫R0(±ª≥ )°¢R1(∑«¡„≥ )
                     374     ;≥ˆø⁄£∫R2(…Ã)°¢R3(”‡ )
                     375     ;°∂MCS-51œµ¡–µ•∆¨ª˙ µ”√◊”≥Ã–ÚºØΩı°∑PAGE 73
                     376     ;-----------------------------------------------
0220                 377     SUDIV:
0220 A928            378                   MOV  R1,RES_L
0222 A827            379                   MOV  R0,RES_H
0224                 380     BCDDIV:
0224 7A00            381                   MOV  R2,#00H      ;…Ãµ•‘™«Â¡„
0226 E9              382                   MOV  A,R1         ;≥ «Û≤π
0227 F4              383                   CPL  A
0228 249B            384                   ADD  A,#9BH
022A F9              385                   MOV  R1,A
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     7

022B E8              386                   MOV  A,R0          ;±ª≥ ∏ﬂŒª“∆»Î
022C 54F0            387                   ANL  A,#0F0H       ;≤ø∑÷”‡µ•‘™
022E C4              388                   SWAP  A
022F FB              389        LP0:       MOV  R3,A          ;◊ˆ≥∑®
0230 29              390                   ADD  A,R1
0231 D4              391                   DA  A
0232 5003            392                   JNC  LP1           ;≤ø∑÷”‡ >=≥ £ø
0234 0A              393                   INC  R2            ;…Ãº”1
0235 80F8            394                   SJMP  LP0
0237 EB              395        LP1:       MOV  A,R3          ;
0238 C4              396                   SWAP  A
0239 FB              397                   MOV  R3,A
023A EA              398                   MOV  A,R2          ;…Ã◊Û“∆“ªŒª
023B C4              399                   SWAP  A
023C FA              400                   MOV  R2,A
023D E8              401                   MOV  A,R0           ;“∆Œª
023E 540F            402                   ANL  A,#0FH
0240 4B              403                   ORL  A,R3
0241 FB              404       LP2:        MOV  R3,A           ;◊ˆ≥∑®
0242 29              405                   ADD  A,R1
0243 D4              406                   DA  A
0244 5003            407                   JNC  LP3
0246 0A              408                   INC  R2             ;…Ãº”1
0247 80F8            409                   SJMP  LP2
0249 EB              410       LP3:        MOV  A,R3           ;Àƒ…·ŒÂ»À
024A 2B              411                   ADD  A,R3
024B D4              412                   DA  A
024C 4004            413                   JC  LP4
024E 29              414                   ADD  A,R1
024F D4              415                   DA  A
0250 5005            416                   JNC  RETURN1
0252 EA              417       LP4:        MOV  A,R2
0253 3400            418                   ADDC  A,#00H
0255 D4              419                   DA  A
0256 FA              420                   MOV  R2,A
0257 752900          421      RETURN1:     MOV  OUT_H,#00H
025A 8A2A            422                   MOV  OUT_L,R2
025C 7167            423                   CALL T_CONV
025E 22              424                   RET
                     425     ;-----------------------------------------------------
                     426     ;  LCD ≥ı ºªØ…Ë÷√
                     427     ;-----------------------------------------------------
025F                 428     SET_LCD:
025F C2A2            429               CLR  LCD_EN
0261 5196            430               CALL  INIT_LCD     ;≥ı ºªØ LCD
0263 71EB            431               CALL  DELAY1
0265 900274          432               MOV  DPTR,#INFO1   ;÷∏’Î÷∏µΩœ‘ æ–≈œ¢1
0268 7401            433               MOV  A,#1          ;œ‘ æ‘⁄µ⁄“ª––
026A 51B5            434               CALL  LCD_SHOW
026C 900285          435               MOV  DPTR,#INFO2   ;÷∏’Î÷∏µΩœ‘ æ–≈œ¢2
026F 7402            436               MOV  A,#2          ;œ‘ æ‘⁄µ⁄∂˛––
0271 51B5            437               CALL  LCD_SHOW
0273 22              438               RET
                     439     ;-----------------------------------------------------
0274 20202043        440     INFO1:  DB  "   CALCULATOR   ",0  ;LCD µ⁄“ª––œ‘ æ–≈œ¢
0278 414C4355                
027C 4C41544F                
0280 52202020                
0284 00                      
0285 20202020        441     INFO2:  DB  "                ",0  ;LCD µ⁄∂˛––œ‘ æ–≈œ¢
0289 20202020                
028D 20202020                
0291 20202020                
0295 00                      
                     442     ;----------------------------------------------------
0296                 443     INIT_LCD:                 ;8ŒªI/Oøÿ÷∆ LCD Ω”ø⁄≥ı ºªØ
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     8

0296 7438            444               MOV  A,#38H     ;À´¡–œ‘ æ£¨◊÷–Œ5*7µ„’Û
0298 51E3            445               CALL  WCOM
029A 71EB            446               CALL  DELAY1
029C 7438            447               MOV  A,#38H     ;À´¡–œ‘ æ£¨◊÷–Œ5*7µ„’Û
029E 51E3            448               CALL  WCOM
02A0 71EB            449               CALL  DELAY1
02A2 7438            450               MOV  A,#38H     ;À´¡–œ‘ æ£¨◊÷–Œ5*7µ„’Û
02A4 51E3            451               CALL  WCOM
02A6 71EB            452               CALL  DELAY1
02A8 740C            453               MOV  A,#0CH     ;ø™œ‘ æ£¨πÿπ‚±Í£¨
02AA 51E3            454               CALL  WCOM
02AC 71EB            455               CALL  DELAY1
02AE 7401            456               MOV  A,#01H     ;«Â≥ LCD œ‘ æ∆¡
02B0 51E3            457               CALL  WCOM
02B2 71EB            458               CALL  DELAY1
02B4 22              459               RET
                     460     ;----------------------------------------------------
02B5                 461     LCD_SHOW:       ;‘⁄LCDµƒµ⁄“ª––ªÚµ⁄∂˛––œ‘ æ–≈œ¢◊÷∑˚
                     462     
02B5 B4010C          463               CJNE  A,#1,LINE2  ;≈–∂œ «∑ÒŒ™µ⁄“ª––
02B8 7480            464       LINE1:  MOV  A,#80H       ;…Ë÷√ LCD µƒµ⁄“ª––µÿ÷∑
02BA 51E3            465               CALL  WCOM        ;–¥»Î√¸¡Ó
02BC 51DA            466               CALL  CLR_LINE    ;«Â≥∏√––◊÷∑˚ æ›
02BE 7480            467               MOV  A,#80H       ;…Ë÷√ LCD µƒµ⁄“ª––µÿ÷∑
02C0 51E3            468               CALL  WCOM        ;–¥»Î√¸¡Ó
02C2 800A            469               JMP  FILL
                     470     
02C4 74C0            471       LINE2:  MOV  A,#0C0H      ;…Ë÷√ LCD µƒµ⁄∂˛––µÿ÷∑
02C6 51E3            472               CALL  WCOM        ;–¥»Î√¸¡Ó
02C8 51DA            473               CALL  CLR_LINE    ;«Â≥∏√––◊÷∑˚ æ›
02CA 74C0            474               MOV  A,#0C0H      ;…Ë÷√ LCD µƒµ⁄∂˛––µÿ÷∑
02CC 51E3            475               CALL  WCOM
02CE E4              476       FILL:   CLR  A            ;ÃÓ»Î◊÷∑˚
02CF 93              477               MOVC  A,@A+DPTR   ;”…–≈œ¢«¯»°≥ˆ◊÷∑˚
02D0 B40001          478               CJNE  A,#0,LC1    ;≈–∂œ «∑ÒŒ™Ω· ¯¬Î
02D3 22              479               RET
02D4 51F0            480       LC1:    CALL  WDATA       ;–¥»Î æ›
02D6 A3              481               INC  DPTR         ;÷∏’Îº”1
02D7 80F5            482               JMP  FILL         ;ºÃ–¯ÃÓ»Î◊÷∑˚
02D9 22              483               RET
                     484     ;---------------------------------------------------
02DA                 485     CLR_LINE:                  ;«Â≥∏√–– LCD µƒ◊÷∑˚
02DA 7818            486               MOV  R0,#24
02DC 7420            487        CL1:   MOV  A,#' '
02DE 51F0            488               CALL  WDATA
02E0 D8FA            489               DJNZ  R0,CL1
02E2 22              490               RET
                     491     ;-----------------------------------------------------
                     492     ; –¥÷∏¡Ó◊”≥Ã–Ú
                     493     ;RS=L,RW=L,D0-D7=÷∏¡Ó¬Î£¨E=∏ﬂ¬ˆ≥Â
                     494     ;-----------------------------------------------------
02E3                 495     WCOM:
02E3 F580            496               MOV   P0,A
02E5 C2A0            497               CLR   LCD_RS
02E7 C2A1            498               CLR   LCD_RW
02E9 D2A2            499               SETB  LCD_EN
02EB 51FD            500               CALL  DELAY0
02ED C2A2            501               CLR   LCD_EN
02EF 22              502               RET
                     503     ;-----------------------------------------------------
                     504     ;–¥ æ›◊”≥Ã–Ú
                     505     ;RS=H,RW=L,D0-D7= æ›£¨E=∏ﬂ¬ˆ≥Â
                     506     ;-----------------------------------------------------
02F0                 507     WDATA:
02F0 F580            508               MOV   P0,A
02F2 D2A0            509               SETB  LCD_RS
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE     9

02F4 C2A1            510               CLR   LCD_RW
02F6 D2A2            511               SETB  LCD_EN
02F8 51FD            512               CALL  DELAY0
02FA C2A2            513               CLR   LCD_EN
02FC 22              514               RET
                     515     ;-----------------------------------------------------
                     516     ;—” ±250Œ¢√Î
                     517     ;-----------------------------------------------------
02FD                 518     DELAY0:
02FD 7F7D            519               MOV   R7,#125
02FF DFFE            520               DJNZ  R7,$
0301 22              521               RET
                     522     ;---------------------------------------------------
                     523     ;‘⁄ LCD µ⁄∂˛––œ‘ æ◊÷∑˚
                     524     ;A=ASC DATA, B=LINE X POS
                     525     ;---------------------------------------------------
0302                 526     LCDP2:
0302 C0E0            527              PUSH  ACC        ;
0304 E5F0            528              MOV  A,B         ;…Ë÷√œ‘ æµÿ÷∑
0306 24C0            529              ADD  A,#0C0H     ;…Ë÷√LCDµƒµ⁄∂˛––µÿ÷∑
0308 51E3            530              CALL  WCOM       ;–¥»Î√¸¡Ó
030A D0E0            531              POP  ACC         ;”…∂—’ª»°≥ˆA
030C 51F0            532              CALL  WDATA      ;–¥»Î æ›
030E 22              533              RET
                     534     
                     535     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
                     536     ;‘⁄÷∏∂®Œª÷√œ‘ æ‘ÀÀ„ ◊÷”Î∑˚∫≈◊”≥Ã–Ú
                     537     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
030F                 538     CONV0:
030F 2430            539               ADD A,#30H
0311 853FF0          540               MOV  B,LCD_X
0314 7102            541               CALL  LCDP2
0316 22              542               RET
0317                 543     CONV1:
0317 753F04          544               MOV  LCD_X,#4
031A 742B            545               MOV  A,#2BH        ;+
031C 853FF0          546               MOV  B,LCD_X
031F 7102            547               CALL  LCDP2
0321 22              548               RET
                     549     
0322                 550     CONV2:
0322 753F04          551               MOV  LCD_X,#4
0325 742D            552               MOV  A,#2DH        ;-
0327 853FF0          553               MOV  B,LCD_X
032A 7102            554               CALL  LCDP2
032C 22              555               RET
032D                 556     CONV3:
032D 753F04          557               MOV  LCD_X,#4
0330 742A            558               MOV  A,#2AH        ;*
0332 853FF0          559               MOV  B,LCD_X
0335 7102            560               CALL  LCDP2
0337 22              561               RET
0338                 562     CONV4:
0338 753F04          563               MOV  LCD_X,#4
033B 742F            564               MOV  A,#2FH        ;/
033D 853FF0          565               MOV  B,LCD_X
0340 7102            566               CALL  LCDP2
0342 22              567               RET
0343                 568     CONV5:
0343 753F09          569               MOV  LCD_X,#09H
0346 743D            570               MOV  A,#3DH        ;=
0348 853FF0          571               MOV  B,LCD_X
034B 7102            572               CALL  LCDP2
034D 22              573               RET
                     574     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
                     575     ;
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE    10

                     576     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
034E                 577     CONV:
034E 753F03          578               MOV   LCD_X,#3        ;…Ë÷√œ‘ æ∆ ºŒª÷√
0351 EB              579               MOV   A,R3
0352 540F            580               ANL   A,#0FH      ;»°≥ˆµÕÀƒŒª∂˛Ω¯÷∆ 
0354 C0E0            581               PUSH  ACC          ;—π»Î∂—’ª
0356 C3              582               CLR   C            ;C=0
0357 940A            583               SUBB  A,#0AH       ;ºı10
0359 D0E0            584               POP   ACC          ;µØ≥ˆ∂—’ª
035B 4002            585               JC    ASCII0       ;∏√ –°”⁄10£¨◊™ASCII0
                     586               ;JMP  ASCII1
035D 2407            587               ADD   A,#07H       ;¥Û”⁄10µƒ º”…œ37H
035F 2430            588     ASCII0:   ADD   A,#30H       ;–°”⁄10µƒ º”…œ30H
0361 853FF0          589               MOV   B,LCD_X
0364 7102            590               CALL  LCDP2
0366                 591     ASCII1:   ;MOV  A,R3
0366 22              592               RET
                     593     
                     594     ;-------------------------------------------------------
0367                 595     T_CONV:
                     596     
0367 E529            597               MOV   A,OUT_H          ;»°∏ﬂŒª 
0369 753F0B          598               MOV  LCD_X,#11
036C B40004          599               CJNE  A,#00H,T_CONV1   ;≈–∏ﬂŒª  «∑ÒŒ™0£ø
036F D206            600               SETB  20H.6            ;Œ™0£¨20H.6÷√1
0371 800F            601               JMP  T_CONV3           ;◊™»°µÕŒª 
                     602                                      ;∏ﬂŒª ≤ªŒ™0£¨‘Ú
0373 54F0            603     T_CONV1:  ANL A,#0F0H            ;≈–∏ﬂŒª µƒ∏ﬂÀƒŒª «∑ÒŒ™0£ø
0375 B40002          604               CJNE  A,#00H,T_CONV2   ;≤ªŒ™0£¨2Œª ∂ºœ‘ æ
0378 D206            605               SETB  20H.6            ;Œ™0£¨20H.6÷√1£¨÷ªœ‘ æµÕÀƒŒª
037A E529            606     T_CONV2:  MOV  A,OUT_H
037C 719B            607               CALL  SHOW_DIG2
037E 053F            608               INC  LCD_X
0380 C206            609               CLR  20H.6             ;«Âœ‘ æ±Íº«Œª
                     610     
0382 E52A            611     T_CONV3:  MOV  A,OUT_L           ;»°µÕŒª 
0384 30060F          612               JNB  20H.6,T_CONV5     ;∏ﬂŒª ”–œ‘ æ£¨‘Ú≤ª≈–µÕŒª °£
0387 54F0            613               ANL  A,#0F0H           ;∏ﬂŒª Œﬁœ‘ æ£¨‘Ú≈–µÕŒª °£
0389 B40006          614               CJNE  A,#00H,T_CONV4   ;≈–µÕŒª µƒ∏ﬂÀƒŒª «∑ÒŒ™0£ø
038C D206            615               SETB  20H.6            ;Œ™0£¨20H.6÷√1£¨÷ªœ‘ æµÕÀƒŒª
038E E52A            616               MOV  A,OUT_L
0390 8004            617               JMP  T_CONV5
0392 C206            618     T_CONV4:  CLR  20H.6             ;µÕŒª ≤ªŒ™0£¨2Œª ∂ºœ‘ æ
0394 E52A            619               MOV  A,OUT_L
                     620     
0396 719B            621     T_CONV5:  CALL  SHOW_DIG2
0398 C206            622               CLR  20H.6             ;«Âœ‘ æ±Íº«Œª
039A 22              623               RET
                     624     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
                     625     ;‘⁄ LCD µƒµ⁄∂˛––œ‘ æ ◊÷”Î∑˚∫≈
                     626     ;£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠£≠
039B                 627     SHOW_DIG2:
039B 30050D          628               JNB  20H.5,DIG2    ;∑˚∫≈±Íº«
039E F532            629               MOV  TEMP3,A
03A0 742D            630               MOV  A,#2DH        ;œ‘ æ∏∫∫≈
03A2 853FF0          631               MOV  B,LCD_X
03A5 7102            632               CALL  LCDP2
03A7 E532            633               MOV  A,TEMP3
03A9 053F            634               INC  LCD_X
03AB 75F010          635      DIG2:    MOV  B,#16         ;…Ë÷√±ª≥ 
03AE 84              636               DIV  AB            ;Ω·π˚A¥Ê…Ã £¨B¥Ê”‡ 
03AF 300604          637               JNB  20H.6,DIG3    ;œ‘ æŒª±Íº«
03B2 7420            638               MOV  A,#20H
03B4 8002            639               JMP  DIG4
03B6 2430            640     DIG3:     ADD  A,#30H        ;AŒ™ ÆŒª £¨◊™ªªŒ™◊÷∑˚
03B8 C0F0            641     DIG4:     PUSH  B            ;B∑≈»Î∂—’ª‘›¥Ê
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE    11

03BA 853FF0          642               MOV  B,LCD_X           ;…Ë÷√ LCD œ‘ æµƒŒª÷√
03BD 7102            643               CALL  LCDP2        ;”… LCD œ‘ æ≥ˆ¿¥
03BF D0F0            644               POP  B             ;
03C1 E5F0            645               MOV  A,B           ;BŒ™∏ˆŒª 
03C3 2430            646               ADD  A,#30H        ;◊™ªªŒ™◊÷∑˚
03C5 053F            647               INC  LCD_X             ;LCD œ‘ æŒª÷√º”1
03C7 853FF0          648               MOV  B,LCD_X           ;…Ë÷√ LCD œ‘ æµƒŒª÷√
03CA 7102            649               CALL  LCDP2        ;”… LCD œ‘ æ≥ˆ¿¥
03CC 22              650               RET
                     651     ;--------------------------------------------------------
                     652     ;∑‰√˘∆˜œÏ“ª…˘◊”≥Ã–Ú
                     653     ;--------------------------------------------------------
03CD                 654     BEEP_BL:
03CD 7E64            655              MOV  R6,#100
03CF 71DA            656       BL1:   CALL  DEX1
03D1 B2B7            657              CPL  BEEP
03D3 DEFA            658              DJNZ  R6,BL1
03D5 7D0A            659              MOV  R5,#10
03D7 71E0            660              CALL  DELAY
03D9 22              661              RET
03DA 7FB4            662      DEX1:   MOV  R7,#180
03DC 00              663      DEX2:   NOP
03DD DFFD            664              DJNZ  R7,DEX2
03DF 22              665              RET
                     666     ;-----------------------------------------------------
                     667     ;—” ±R5°¡10MS
                     668     ;-----------------------------------------------------
03E0                 669     DELAY:
03E0 7E32            670              MOV  R6,#50
03E2 7F64            671       D1:    MOV  R7,#100
03E4 DFFE            672              DJNZ  R7,$
03E6 DEFA            673              DJNZ  R6,D1
03E8 DDF6            674              DJNZ  R5,DELAY
03EA 22              675              RET
                     676     ;-----------------------------------------------------
                     677     ;—” ±5MS
                     678     ;-----------------------------------------------------
03EB                 679     DELAY1:
03EB 7E19            680              MOV  R6,#25
03ED 7F64            681       D2:    MOV  R7,#100
03EF DFFE            682              DJNZ  R7,$
03F1 DEFA            683              DJNZ  R6,D2
03F3 22              684              RET
                     685     ;-----------------------------------------------------
                     686              END
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE    12

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

ACC. . . . . . . .  D ADDR   00E0H   A   
ASCII0 . . . . . .  C ADDR   035FH   A   
ASCII1 . . . . . .  C ADDR   0366H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BCDDIV . . . . . .  C ADDR   0224H   A   
BCDMUL . . . . . .  C ADDR   01EAH   A   
BEEP . . . . . . .  B ADDR   00B0H.7 A   
BEEP_BL. . . . . .  C ADDR   03CDH   A   
BL1. . . . . . . .  C ADDR   03CFH   A   
CL1. . . . . . . .  C ADDR   02DCH   A   
CLR_LINE . . . . .  C ADDR   02DAH   A   
CONV . . . . . . .  C ADDR   034EH   A   
CONV0. . . . . . .  C ADDR   030FH   A   
CONV1. . . . . . .  C ADDR   0317H   A   
CONV2. . . . . . .  C ADDR   0322H   A   
CONV3. . . . . . .  C ADDR   032DH   A   
CONV4. . . . . . .  C ADDR   0338H   A   
CONV5. . . . . . .  C ADDR   0343H   A   
D1 . . . . . . . .  C ADDR   03E2H   A   
D2 . . . . . . . .  C ADDR   03EDH   A   
DDBCDM . . . . . .  C ADDR   0214H   A   
DEL. . . . . . . .  C ADDR   01ABH   A   
DEL0 . . . . . . .  C ADDR   01ADH   A   
DEL1 . . . . . . .  C ADDR   01AFH   A   
DEL2 . . . . . . .  C ADDR   01B1H   A   
DELAY. . . . . . .  C ADDR   03E0H   A   
DELAY0 . . . . . .  C ADDR   02FDH   A   
DELAY1 . . . . . .  C ADDR   03EBH   A   
DEX1 . . . . . . .  C ADDR   03DAH   A   
DEX2 . . . . . . .  C ADDR   03DCH   A   
DIG2 . . . . . . .  C ADDR   03ABH   A   
DIG3 . . . . . . .  C ADDR   03B6H   A   
DIG4 . . . . . . .  C ADDR   03B8H   A   
FILL . . . . . . .  C ADDR   02CEH   A   
I1 . . . . . . . .  C ADDR   0137H   A   
I2 . . . . . . . .  C ADDR   013CH   A   
I20. . . . . . . .  C ADDR   013EH   A   
I21. . . . . . . .  C ADDR   0145H   A   
I3 . . . . . . . .  C ADDR   014CH   A   
I4 . . . . . . . .  C ADDR   0155H   A   
I5 . . . . . . . .  C ADDR   015CH   A   
INFO1. . . . . . .  C ADDR   0274H   A   
INFO2. . . . . . .  C ADDR   0285H   A   
INIT_LCD . . . . .  C ADDR   0296H   A   
IRCOM. . . . . . .  N NUMB   0022H   A   
IRIN . . . . . . .  B ADDR   00B0H.2 A   
IR_IN. . . . . . .  C ADDR   0135H   A   
IR_IN1 . . . . . .  C ADDR   018CH   A   
IR_IN2 . . . . . .  C ADDR   0196H   A   
IR_SHOW. . . . . .  C ADDR   017BH   A   
IR_SHOW1 . . . . .  C ADDR   0199H   A   
IR_TABLE_NEW . . .  C ADDR   019AH   A   
L1 . . . . . . . .  C ADDR   015EH   A   
LBCD . . . . . . .  C ADDR   0205H   A   
LC1. . . . . . . .  C ADDR   02D4H   A   
LCDP2. . . . . . .  C ADDR   0302H   A   
LCD_EN . . . . . .  B ADDR   00A0H.2 A   
LCD_RS . . . . . .  B ADDR   00A0H.0 A   
LCD_RW . . . . . .  B ADDR   00A0H.1 A   
LCD_SHOW . . . . .  C ADDR   02B5H   A   
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE    13

LCD_X. . . . . . .  N NUMB   003FH   A   
LINE1. . . . . . .  C ADDR   02B8H   A   
LINE2. . . . . . .  C ADDR   02C4H   A   
LL . . . . . . . .  C ADDR   014EH   A   
LOOP . . . . . . .  C ADDR   005BH   A   
LOOP0. . . . . . .  C ADDR   0094H   A   
LOOP0A . . . . . .  C ADDR   0099H   A   
LOOP1. . . . . . .  C ADDR   00A3H   A   
LOOP2. . . . . . .  C ADDR   00ACH   A   
LOOP3. . . . . . .  C ADDR   00B5H   A   
LOOP4. . . . . . .  C ADDR   00BEH   A   
LOOP4A . . . . . .  C ADDR   00C3H   A   
LOOP5. . . . . . .  C ADDR   00C5H   A   
LOOP5A . . . . . .  C ADDR   00CFH   A   
LOOP5B . . . . . .  C ADDR   00D9H   A   
LOOP5C . . . . . .  C ADDR   00E4H   A   
LOOP5D . . . . . .  C ADDR   0108H   A   
LOOP6. . . . . . .  C ADDR   010DH   A   
LOOP6A . . . . . .  C ADDR   010FH   A   
LOOP6B . . . . . .  C ADDR   0115H   A   
LOOP6C . . . . . .  C ADDR   011FH   A   
LOOP6D . . . . . .  C ADDR   0124H   A   
LOOP6E . . . . . .  C ADDR   0129H   A   
LOOP7. . . . . . .  C ADDR   012EH   A   
LOOP_0 . . . . . .  C ADDR   0060H   A   
LOOP_1 . . . . . .  C ADDR   006BH   A   
LOOP_2 . . . . . .  C ADDR   008FH   A   
LP0. . . . . . . .  C ADDR   022FH   A   
LP1. . . . . . . .  C ADDR   0237H   A   
LP2. . . . . . . .  C ADDR   0241H   A   
LP3. . . . . . . .  C ADDR   0249H   A   
LP4. . . . . . . .  C ADDR   0252H   A   
MAIN . . . . . . .  C ADDR   0030H   A   
MAIN1. . . . . . .  C ADDR   004FH   A   
N1 . . . . . . . .  C ADDR   0176H   A   
NEGA . . . . . . .  C ADDR   01D8H   A   
OK . . . . . . . .  C ADDR   017AH   A   
OUT_H. . . . . . .  N NUMB   0029H   A   
OUT_L. . . . . . .  N NUMB   002AH   A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
POSI . . . . . . .  C ADDR   01DEH   A   
RELAY. . . . . . .  B ADDR   0090H.3 A   
RES_H. . . . . . .  N NUMB   0027H   A   
RES_L. . . . . . .  N NUMB   0028H   A   
RETURN . . . . . .  C ADDR   020DH   A   
RETURN1. . . . . .  C ADDR   0257H   A   
SET_LCD. . . . . .  C ADDR   025FH   A   
SHOW_DIG2. . . . .  C ADDR   039BH   A   
SP . . . . . . . .  D ADDR   0081H   A   
SUADD. . . . . . .  C ADDR   01B8H   A   
SUDIV. . . . . . .  C ADDR   0220H   A   
SUMUL. . . . . . .  C ADDR   01E6H   A   
SUSUB. . . . . . .  C ADDR   01CBH   A   
TEMP1. . . . . . .  N NUMB   0030H   A   
TEMP2. . . . . . .  N NUMB   0031H   A   
TEMP3. . . . . . .  N NUMB   0032H   A   
TEMP4. . . . . . .  N NUMB   0033H   A   
T_CONV . . . . . .  C ADDR   0367H   A   
T_CONV1. . . . . .  C ADDR   0373H   A   
T_CONV2. . . . . .  C ADDR   037AH   A   
T_CONV3. . . . . .  C ADDR   0382H   A   
T_CONV4. . . . . .  C ADDR   0392H   A   
T_CONV5. . . . . .  C ADDR   0396H   A   
A51 MACRO ASSEMBLER  ∫ÏÕ‚ Ωº∆À„∆___LCD1602_2BIT_NEW                                       02/05/2006 18:34:11 PAGE    14

WCOM . . . . . . .  C ADDR   02E3H   A   
WDATA. . . . . . .  C ADDR   02F0H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
